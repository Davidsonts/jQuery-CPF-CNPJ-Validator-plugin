!function(l){function u(a,n){if(""==(a=a.replace(/[^\d]+/g,"")))return!1;if(14!=a.length)return!1;if("00000000000000"==a||"11111111111111"==a||"22222222222222"==a||"33333333333333"==a||"44444444444444"==a||"55555555555555"==a||"66666666666666"==a||"77777777777777"==a||"88888888888888"==a||"99999999999999"==a)return!1;for(tamanho=a.length-2,numeros=a.substring(0,tamanho),digitos=a.substring(tamanho),soma=0,pos=tamanho-7,i=tamanho;1<=i;i--)soma+=numeros.charAt(tamanho-i)*pos--,pos<2&&(pos=9);if(resultado=soma%11<2?0:11-soma%11,resultado!=digitos.charAt(0))return!1;for(tamanho+=1,numeros=a.substring(0,tamanho),soma=0,pos=tamanho-7,i=tamanho;1<=i;i--)soma+=numeros.charAt(tamanho-i)*pos--,pos<2&&(pos=9);return resultado=soma%11<2?0:11-soma%11,resultado==digitos.charAt(1)}function f(a,n){var t=null!=n&&n?/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/:/^[0-9]{11}$/;if(null==a.match(t))return!1;if(null!=a.match(/\b(.+).*(\1.*){10,}\b/g))return!1;var s,o,e=a.replace(/\D/g,"");for(s=0,i=1;i<=9;i++)s+=parseInt(e.substring(i-1,i))*(11-i);if(10!=(o=10*s%11)&&11!=o||(o=0),o!=parseInt(e.substring(9,10)))return!1;for(s=0,i=1;i<=10;i++)s+=parseInt(e.substring(i-1,i))*(12-i);return 10!=(o=10*s%11)&&11!=o||(o=0),o==parseInt(e.substring(10,11))}l.fn.cpfcnpj=function(a){var o=l.extend({mask:!1,validate:"cpfcnpj",event:"focusout",handler:l(this),validateOnlyFocus:!1,ifValid:null,ifInvalid:null},a);if(o.mask)if(null==jQuery().mask)o.mask=!1,console.log("jQuery mask not found.");else{var n=["000.000.000-009","00.000.000/0000-00"],i=l(this);if("cpf"==o.validate)i.mask(n[0]);else if("cnpj"==o.validate)i.mask(n[1]);else{var e=function(a){return 0===a.length||12<=a.length?n[1]:n[0]},r={onChange:function(a,n,i){var t=l(i),s=t.cleanVal();t.mask(e(s),r)}};i.mask(e,r)}}return this.each(function(){var t=null,s=l(this);l(document).on(o.event,o.handler,function(){if(!o.validateOnlyFocus||o.validateOnlyFocus&&s.is(":focus")){var a=s.val(),n=a.length;if(t=!1,11!=n&&14!=n&&18!=n||("cpf"==o.validate?t=f(a,o.mask):"cnpj"==o.validate?t=u(a,o.mask):"cpfcnpj"==o.validate&&(f(a,o.mask)?(t=!0,"cpf"):u(a,o.mask)&&(t=!0,"cnpj"))),l.isFunction(o.ifValid))if(null!=t&&t){if(l.isFunction(o.ifValid)){var i=l.Callbacks();i.add(o.ifValid),i.fire(s)}}else l.isFunction(o.ifInvalid)&&o.ifInvalid(s)}})})}}(jQuery);